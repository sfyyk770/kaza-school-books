<html><head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>SchoolBookExpress - Checkout</title>
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;600&display=swap" rel="stylesheet">
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css" rel="stylesheet">
<style>
  :root {
    --primary-color: #6c5ce7;
    --secondary-color: #00b894;
    --accent-color: #fdcb6e;
    --background-color: #f8f9fa;
    --text-color: #2d3436;
    --white: #ffffff;
    --shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    --transition: all 0.3s ease;
  }

  * {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
  }

  body {
    font-family: 'Montserrat', sans-serif;
    line-height: 1.8;
    color: var(--text-color);
    background-color: var(--background-color);
  }

  .container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 40px 20px;
  }

  header {
    background: var(--primary-color);
    color: var(--white);
    padding: 20px 0;
    box-shadow: var(--shadow);
  }

  .logo {
    font-size: 2rem;
    font-weight: 600;
    color: var(--white);
    text-decoration: none;
    display: flex;
    align-items: center;
  }

  .logo i {
    margin-right: 15px;
  }

  h1, h2, h3 {
    margin-bottom: 25px;
    font-weight: 600;
    line-height: 1.4;
  }

  h1 {
    font-size: 2.5rem;
    margin-top: 20px;
  }

  h2 {
    font-size: 2rem;
  }

  h3 {
    font-size: 1.5rem;
  }

  .checkout-container {
    display: flex;
    justify-content: space-between;
    margin-top: 40px;
  }

  .order-summary, .shipping-payment-form {
    background: var(--white);
    border-radius: 8px;
    padding: 30px;
    box-shadow: var(--shadow);
  }

  .order-summary {
    width: 45%;
  }

  .shipping-payment-form {
    width: 50%;
  }

  .child-order {
    margin-bottom: 30px;
    border-bottom: 2px solid var(--accent-color);
    padding-bottom: 20px;
  }

  .child-order:last-child {
    border-bottom: none;
  }

  .order-item {
    display: flex;
    justify-content: space-between;
    margin-bottom: 15px;
    padding-bottom: 15px;
    border-bottom: 1px solid #eee;
  }

  .order-total, .order-subtotal, .order-tax, .order-shipping {
    font-weight: 600;
    font-size: 1.2rem;
    margin-top: 20px;
    display: flex;
    justify-content: space-between;
  }

  .order-tax, .order-shipping {
    font-size: 1rem;
    color: #666;
  }

  .form-group {
    margin-bottom: 20px;
  }

  label {
    display: block;
    margin-bottom: 5px;
    font-weight: 600;
  }

  input[type="text"],
  input[type="email"],
  input[type="tel"],
  select {
    width: 100%;
    padding: 10px;
    border: 1px solid #ddd;
    border-radius: 4px;
    font-size: 1rem;
  }

  .btn {
    display: inline-block;
    background: var(--secondary-color);
    color: var(--white);
    padding: 12px 24px;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    transition: var(--transition);
    font-weight: 500;
    text-align: center;
    font-size: 1rem;
    text-transform: uppercase;
    letter-spacing: 0.5px;
  }

  .btn:hover {
    background: #00a38d;
    transform: translateY(-2px);
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
  }

  .child-name {
    color: var(--primary-color);
    font-weight: 600;
    font-size: 1.3rem;
    margin-bottom: 15px;
  }

  .child-subtotal {
    font-weight: 600;
    color: var(--secondary-color);
    margin-top: 10px;
    text-align: right;
  }

  .shipping-options, .payment-options {
    display: flex;
    justify-content: space-between;
    margin-bottom: 20px;
  }

  .shipping-option, .payment-option {
    width: 48%;
    padding: 20px;
    border: 2px solid var(--accent-color);
    border-radius: 8px;
    text-align: center;
    cursor: pointer;
    transition: var(--transition);
  }

  .shipping-option:hover,
  .shipping-option.selected,
  .payment-option:hover,
  .payment-option.selected {
    background-color: var(--accent-color);
    color: var(--white);
  }

  .shipping-option i, .payment-option i {
    font-size: 2rem;
    margin-bottom: 10px;
  }

  #credit-card-form, #phone-payment-info {
    display: none;
  }

  .modal {
    display: none;
    position: fixed;
    z-index: 1000;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0,0,0,0.4);
  }

  .modal-content {
    background-color: var(--white);
    margin: 15% auto;
    padding: 20px;
    border: 1px solid #888;
    width: 60%;
    max-width: 500px;
    border-radius: 8px;
    text-align: center;
  }

  .close {
    color: #aaa;
    float: right;
    font-size: 28px;
    font-weight: bold;
    cursor: pointer;
  }

  .close:hover,
  .close:focus {
    color: #000;
    text-decoration: none;
    cursor: pointer;
  }

  @media (max-width: 968px) {
    .checkout-container {
      flex-direction: column;
    }

    .order-summary, .shipping-payment-form {
      width: 100%;
      margin-bottom: 30px;
    }

    .form-row {
      display: flex;
      flex-wrap: wrap;
      margin: 0 -10px;
    }

    .form-group {
      flex: 0 0 50%;
      padding: 0 10px;
    }

    .form-group-full {
      flex: 0 0 100%;
    }

    h1 {
      font-size: 2rem;
    }

    h2 {
      font-size: 1.5rem;
    }

    .logo {
      font-size: 1.5rem;
    }

    .container {
      padding: 20px 10px;
    }

    .shipping-option, .payment-option {
      padding: 15px;
    }

    .shipping-option i, .payment-option i {
      font-size: 1.5rem;
    }
  }
</style>
</head>
<body>
  <header>
    <div class="container">
      <a href="/" class="logo"><i class="fas fa-book-open"></i> SchoolBookExpress</a>
    </div>
  </header>

  <div class="container">
    <h1>Checkout</h1>
    
    <div class="checkout-container">
      <div class="order-summary">
        <h2>Order Summary</h2>
        
        <div id="order-summary-content">
          <!-- Order summary content will be dynamically added here -->
        </div>
        <div class="order-subtotal">
          <span>Subtotal:</span>
          <span id="subtotal-cost"></span>
        </div>
        <div class="order-tax">
          <span>Tax (8.875%):</span>
          <span id="tax-amount"></span>
        </div>
        <div class="order-shipping">
          <span>Shipping:</span>
          <span id="shipping-cost"></span>
        </div>
        <div class="order-total">
          <span>Total:</span>
          <span id="total-cost"></span>
        </div>
      </div>

      <div class="shipping-payment-form">
        <h2>Shipping Options</h2>
        <div class="shipping-options">
          <div class="shipping-option selected" data-cost="0" id="pickup-option">
            <i class="fas fa-store"></i>
            <p>Store Pickup</p>
            <p>Free</p>
          </div>
          <div class="shipping-option" data-cost="5.99" id="delivery-option">
            <i class="fas fa-truck"></i>
            <p>Home Delivery</p>
            <p>$5.99</p>
          </div>
        </div>

        <h2>Shipping Information</h2>
        <form id="shipping-payment-form">
          <div class="form-row">
            <div class="form-group">
              <label for="name">Full Name</label>
              <input type="text" id="name" name="name" required>
            </div>
            <div class="form-group">
              <label for="email">Email</label>
              <input type="email" id="email" name="email" required>
            </div>
          </div>
          <div class="form-row">
            <div class="form-group">
              <label for="phone">Phone Number</label>
              <input type="tel" id="phone" name="phone" required>
            </div>
            <div class="form-group">
              <label for="zip">ZIP Code</label>
              <input type="text" id="zip" name="zip" required>
            </div>
          </div>
          <div class="form-row">
            <div class="form-group form-group-full">
              <label for="address">Address</label>
              <input type="text" id="address" name="address" required>
            </div>
          </div>
          <div class="form-row">
            <div class="form-group">
              <label for="city">City</label>
              <input type="text" id="city" name="city" required>
            </div>
            <div class="form-group">
              <label for="state">State</label>
              <select id="state" name="state" required>
                <option value="">Select State</option>
                <option value="AL">Alabama</option>
                <option value="AK">Alaska</option>
                <option value="AZ">Arizona</option>
                <!-- Add more states here -->
              </select>
            </div>
          </div>
          
          <h2>Payment Information</h2>
          <div class="payment-options">
            <div class="payment-option selected" id="credit-card-option">
              <i class="fas fa-credit-card"></i>
              <p>Credit Card</p>
            </div>
            <div class="payment-option" id="phone-option">
              <i class="fas fa-phone"></i>
              <p>Pay by Phone</p>
            </div>
          </div>

          <div id="credit-card-form">
            <div class="form-row">
              <div class="form-group form-group-full">
                <label for="card-number">Card Number</label>
                <input type="text" id="card-number" name="card-number">
              </div>
            </div>
            <div class="form-row">
              <div class="form-group">
                <label for="expiry">Expiration Date</label>
                <input type="text" id="expiry" name="expiry" placeholder="MM/YY">
              </div>
              <div class="form-group">
                <label for="cvv">CVV</label>
                <input type="text" id="cvv" name="cvv">
              </div>
            </div>
          </div>

          <div id="phone-payment-info">
            <p>To pay by phone, please call us at 1-800-BOOKS-4-KIDS (1-800-266-5745).</p>
            <p>Our customer service representatives are available Monday through Friday, 9am to 5pm EST.</p>
            <p>Please have your order number ready when you call.</p>
          </div>

          <button type="submit" class="btn">Complete Purchase</button>
        </form>
      </div>
    </div>
  </div>

  <div id="thank-you-modal" class="modal">
    <div class="modal-content">
      <span class="close">&times;</span>
      <h2>Thank You for Your Purchase!</h2>
      <p>Your order has been successfully processed.</p>
      <p>Order number: <span id="order-number"></span></p>
      <p>We'll send a confirmation email to <span id="confirm-email"></span> shortly.</p>
    </div>
  </div>

  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script>
    $(document).ready(function() {
      // let orderData = JSON.parse(localStorage.getItem('orderData') ?? '{"children":[{"name":"kjnkfdvd","school":"roosevelt-high","grade":"2"}],"cart":[{"id":203,"title":"Our Planet Earth","price":26.99,"child":"kjnkfdvd"},{"id":202,"title":"Reading Comprehension: Grade 2","price":17.99,"child":"kjnkfdvd"}]}');
      let orderData = JSON.parse(localStorage.getItem('orderData'));
      const TAX_RATE = 0.08875; // 8.875%
      let SUBTOTAL = 0;

      // Function to update the order summary content
      function updateOrderSummary() {
        const orderSummaryContent = $('#order-summary-content');
        orderSummaryContent.empty(); // Clear previous content

        let subtotal = 0;

        orderData.children.forEach(child => {
          const childOrder = $('<div class="child-order"></div>');
          childOrder.append(`<div class="child-name">${child.name} - ${child.grade} Grade</div>`);

          const cartItems = orderData.cart.filter(item => item.child === child.name);
          cartItems.forEach(item => {
            const orderItem = $('<div class="order-item"></div>');
            orderItem.append(`<span>${item.title}</span>`);
            orderItem.append(`<span>$${item.price.toFixed(2)}</span>`);
            childOrder.append(orderItem);
            subtotal += parseFloat(item.price);
          });
          SUBTOTAL =+ subtotal;
          childOrder.append(`<div class="child-subtotal">Subtotal: $${subtotal.toFixed(2)}</div>`);
          orderSummaryContent.append(childOrder);
          subtotal = 0; // Reset subtotal for the next child
        });
      }

      $('.payment-option').click(function() {
        $('.payment-option').removeClass('selected');
        $(this).addClass('selected');
        
        if ($(this).attr('id') === 'credit-card-option') {
          $('#credit-card-form').show();
          $('#phone-payment-info').hide();
        } else {
          $('#credit-card-form').hide();
          $('#phone-payment-info').show();
        }
      });

      $('.shipping-option').click(function() {
        $('.shipping-option').removeClass('selected');
        $(this).addClass('selected');
        updateTotal();
      });

      function updateTotal() {
        let tax = SUBTOTAL * TAX_RATE;
        let shippingCost = 5.99;
        let total = SUBTOTAL + tax + shippingCost;

        $('#tax-amount').text('$' + tax.toFixed(2));
        $('#shipping-cost').text('$' + shippingCost.toFixed(2));
        $('#total-cost').text('$' + total.toFixed(2));
      }

      $('#shipping-payment-form').submit(function(e) {
        e.preventDefault();
        let orderNumber = 'ORD-' + Math.random().toString(36).substr(2, 9).toUpperCase();
        $('#order-number').text(orderNumber);
        $('#confirm-email').text($('#email').val());
        $('#thank-you-modal').css('display', 'block');
      });

      $('.close').click(function() {
        $('#thank-you-modal').css('display', 'none');
      });

      $(window).click(function(event) {
        if (event.target == document.getElementById('thank-you-modal')) {
          $('#thank-you-modal').css('display', 'none');
        }
      });

      // Initial update
      updateOrderSummary();
      updateTotal();
    });
  </script>
</body>
</html>
